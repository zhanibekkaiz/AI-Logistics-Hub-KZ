# 🚀 AI Logistics Hub

**Интеллектуальный сервис для расчёта логистики и проверки поставщиков из Китая**

## 🎯 Цель проекта

Создать цифровой сервис (сайт + Telegram/Instagram бот), который позволит предпринимателям и компаниям:

1. **Мгновенно сравнивать** карго и белую доставку из Китая
2. **Получать расчёт** стоимости и сроков на основе актуальных тарифов
3. **Автоматически определять** коды ТН ВЭД и требуемые документы
4. **Проверять благонадёжность** китайских поставщиков по официальным базам

## 🧩 Основной функционал

### 1. Калькулятор доставки
- Ввод: вес, объём, категория товара, маршрут
- Расчёт тарифов (интеграция с Airtable)
- Сравнение карго vs белая доставка
- Вывод: стоимость, срок, разница в рисках

### 2. Customs Advisor
- Авто-определение ТН ВЭД (API tnved.info / keden.kz)
- Подсказки по пошлинам, НДС, утильсбору
- Список обязательных сертификатов/разрешений

### 3. Supplier Check
- Проверка китайских заводов по базе Qichacha / Tianyancha
- Анализ регистрации, капитала, лицензий, судебных дел
- Экспортная история (ImportYeti / Alibaba)
- Генерация резюме надёжности поставщика

### 4. Каналы доступа
- 🌐 Сайт (встроенный виджет калькулятора)
- 📱 Instagram бот (через ManyChat)
- 💬 Telegram бот (через API)

### 5. CRM и аналитика
- Все запросы → Airtable/HubSpot
- Автоматическое распределение лидов:
  - Карго → менеджер по быстрым сделкам
  - Белая логистика / тендеры → B2B менеджер

## 🚀 УТП сервиса

- **Первая в КЗ и СНГ** ИИ-платформа «логистика + комплаенс + проверка поставщика»
- **Полная картина сделки** — не просто цена за кг, а все риски и документы
- **Всё в одном месте**: логистика, таможня и проверка завода

## 📊 Модель монетизации

1. **Основная прибыль**: логистика (маржа 10–15% на фрахте)
2. **Доп.услуги**: проверка завода, QC, сертификация ($100–500)
3. **Premium-подписка**: расширенные функции проверки и аналитики

## 🛠 Техническая реализация

### Архитектура системы

AI Logistics Hub - это комплексная AI-платформа с микросервисной архитектурой:

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           ВХОДНЫЕ КАНАЛЫ                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│  📱 Telegram Bot    📸 Instagram Bot    💬 WhatsApp Bot    🌐 Web Form     │
└─────────────────────┬─────────────────────┬─────────────────────────────────┘
                      │                     │
                      ▼                     ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        API GATEWAY (FastAPI)                               │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│  │   Request       │  │   Validation    │  │   Routing       │             │
│  │   Handler       │  │   & Parsing     │  │   & Queue       │             │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘             │
└─────────────────────┬─────────────────────┬─────────────────────────────────┘
                      │                     │
                      ▼                     ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        CORE PROCESSING ENGINE                               │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│  │   Request       │  │   Data          │  │   AI            │             │
│  │   Orchestrator  │  │   Enrichment    │  │   Processing    │             │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘             │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│  │   Report        │  │   Notification  │  │   CRM           │             │
│  │   Generator     │  │   System        │  │   Integration   │             │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘             │
└─────────────────────┬─────────────────────┬─────────────────────────────────┘
                      │                     │
                      ▼                     ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        EXTERNAL INTEGRATIONS                                │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│  │   TNVED.INFO    │  │   QICHACHA      │  │   AIRTABLE      │             │
│  │   API           │  │   API           │  │   (Tariffs)     │             │
│  │   • TNVED codes │  │   • Supplier    │  │   • Cargo rates │             │
│  │   • Duty rates  │  │   verification  │  │   • White rates │             │
│  │   • Documents   │  │   • Company info│  │   • Routes      │             │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘             │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│  │   OPENAI/GPT    │  │   LOGISTICS     │  │   NOTIFICATION  │             │
│  │   • Report gen  │  │   CALCULATOR    │  │   SERVICES      │             │
│  │   • Analysis    │  │   • Cost calc   │  │   • Email       │             │
│  │   • Insights    │  │   • Route opt   │  │   • SMS         │             │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘             │
└─────────────────────┬─────────────────────┬─────────────────────────────────┘
                      │                     │
                      ▼                     ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        DATA STORAGE & CRM                                  │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│  │   AIRTABLE      │  │   CACHE         │  │   ANALYTICS     │             │
│  │   • Leads       │  │   • Redis       │  │   • Reports     │             │
│  │   • Requests    │  │   • TNVED data  │  │   • Metrics     │             │
│  │   • Results     │  │   • API results │  │   • KPIs        │             │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘             │
└─────────────────────┬─────────────────────┬─────────────────────────────────┘
                      │                     │
                      ▼                     ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        OUTPUT CHANNELS                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│  📱 Telegram Report    📧 Email Report    🌐 Web Dashboard    📊 Analytics  │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Технологический стек

#### Backend
- **Framework**: FastAPI (Python)
- **Database**: Airtable (основное хранилище)
- **Cache**: Redis для кэширования
- **ORM**: Pydantic для валидации
- **Authentication**: JWT tokens (планируется)
- **API Documentation**: Swagger/OpenAPI

#### Сервисы
- **AirtableService**: интеграция с Airtable для хранения данных
- **TNVEDInfoService**: полная интеграция с API tnved.info ✅
- **QichachaService**: проверка поставщиков (планируется)
- **AIProcessor**: обработка через OpenAI/GPT (планируется)
- **RequestOrchestrator**: координация всех процессов (планируется)
- **CalculationService**: основная бизнес-логика расчётов
- **ReportGenerator**: генерация структурированных отчетов (планируется)
- **NotificationService**: система уведомлений (планируется)

#### API Endpoints

**Основные эндпоинты:**
- `POST /api/v1/calculate/` - расчёт доставки (MVP)
- `POST /api/v1/tnved/classify` - определение ТН ВЭД
- `GET /api/v1/tariffs/` - получение тарифов
- `POST /api/v1/supplier/check` - проверка поставщиков

**TNVED Info API (✅ Реализовано):**
- `POST /api/v1/tnved-info/search` - поиск ТН ВЭД кодов
- `GET /api/v1/tnved-info/search` - поиск через GET запрос
- `GET /api/v1/tnved-info/code/{code}` - информация о коде ТН ВЭД
- `POST /api/v1/tnved-info/classify` - классификация товара
- `GET /api/v1/tnved-info/license` - информация о лицензии
- `GET /api/v1/tnved-info/health` - проверка здоровья API
- `POST /api/v1/tnved-info/cache/clear` - очистка кэша

**Планируемые эндпоинты:**
- `POST /api/v1/qichacha/search` - поиск поставщика
- `GET /api/v1/qichacha/company/{id}` - информация о компании
- `POST /api/v1/ai/analyze` - AI анализ данных
- `POST /api/v1/reports/generate` - генерация отчетов
- `POST /api/v1/notifications/send` - отправка уведомлений

### Структура проекта
```
AI-Logistics-Hub-KZ/
├── app/
│   ├── main.py                 # Основное приложение FastAPI
│   ├── core/
│   │   ├── config.py           # Конфигурация
│   │   └── logging.py          # Настройка логирования
│   ├── models/
│   │   └── schemas.py          # Pydantic схемы
│   ├── api/
│   │   └── v1/
│   │       ├── api.py          # Основной роутер
│   │       └── endpoints/      # Эндпоинты
│   └── services/               # Бизнес-логика
│       ├── airtable.py         # Airtable интеграция
│       ├── tnved.py            # ТН ВЭД сервис
│       ├── rls_tnved_info.py   # Полная интеграция с API tnved.info
│       └── calculation.py      # Сервис расчётов
├── env.example                 # Пример переменных окружения
├── ROADMAP.md                  # Roadmap разработки
└── README.md                   # Этот файл
```

## 🚀 Быстрый старт

### 1. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 2. Настройка окружения
```bash
cp env.example .env
# Отредактируйте .env файл, добавив ваши API ключи
# Для полной функциональности ТН ВЭД добавьте:
# TNVED_INFO_USERNAME=your_username
# TNVED_INFO_PASSWORD=your_password
```

### 3. Запуск приложения
```bash
uvicorn app.main:app --reload
```

### 4. Документация API
Откройте http://localhost:8000/docs для интерактивной документации API.

### 5. Тестирование TNVED Info API
```bash
python test_tnved_info_integration.py
```

## 📅 Roadmap

### ✅ Этап 1: Подготовка (завершён)
- [x] Создана базовая структура FastAPI приложения
- [x] Настроена интеграция с Airtable
- [x] Реализован основной функционал расчётов
- [x] Созданы API endpoints

### 🔄 Этап 2: MVP (в разработке)
- [ ] Telegram бот
- [ ] Тестирование с реальными данными
- [ ] Оптимизация производительности

### 📋 Этап 3: Supplier Check (планируется)
- [ ] Интеграция с Qichacha/Tianyancha
- [ ] AI анализ поставщиков
- [ ] Расширение функционала

### 🌐 Этап 4: Маркетинг и тест
- [ ] Веб-интерфейс
- [ ] Instagram бот
- [ ] Маркетинговые материалы

### 🚀 Этап 5: Масштабирование
- [ ] Оптимизация и расширение
- [ ] Premium функции
- [ ] Международная экспансия

## 🎯 Ключевые преимущества

### 🎯 Уникальность
- **Первая в Казахстане** ИИ-платформа для логистики
- **Комплексное решение**: логистика + таможня + проверка поставщика
- **Автоматизация**: за 2 минуты вместо недель работы

### 💰 Экономика
- **Высокая маржа**: 70-80% чистой прибыли
- **Быстрая окупаемость**: 4-6 месяцев
- **Масштабируемость**: от Казахстана до международных рынков

### 🛠 Технологии
- **Современный стек**: FastAPI, Airtable, Pydantic
- **ИИ-интеграция**: GPT-4o, автоматическая классификация
- **Автоматизация**: боты, CRM, аналитика

## 📊 Финансовые прогнозы

### 6 месяцев
- **Доход**: $379,500
- **Прибыль**: $319,500
- **ROI**: 532%

### 1 год
- **Доход**: $1M+
- **Клиенты**: 500+
- **Premium подписки**: 200+

## 🚨 Важные моменты

### Технические риски
- **API интеграции**: Имейте резервные планы
- **Масштабируемость**: Используйте микросервисную архитектуру
- **Безопасность**: Шифруйте данные, используйте HTTPS

### Бизнес риски
- **Конкуренция**: Быстрый выход на рынок критичен
- **Конверсия**: Тестируйте разные подходы
- **Финансирование**: Bootstrap подход в начале

### Рекомендации
- **Начните с MVP**: Не усложняйте в начале
- **Тестируйте с клиентами**: Собирайте обратную связь постоянно
- **Автоматизируйте**: Используйте ботов и CRM
- **Масштабируйте постепенно**: От Казахстана к международным рынкам

## 📚 Документация

### Архитектура и интеграции
- **Системная архитектура** → `docs/system-architecture.md`
- **Диаграммы интеграций** → `docs/integration-diagram.md`
- **План реализации** → `docs/integration-implementation-plan.md`

### API документация
- **TNVED Info API** → `docs/tnved-info-api-integration.md`
- **Быстрый старт** → `docs/quick-start-tnved-info.md`

### Бизнес документация
- **Техническая реализация** → `ROADMAP.md`
- **Маркетинг** → `marketing/utp-scripts.md`
- **Финансы** → `finance/financial-model.md`
- **Планирование** → `roadmap/development-roadmap.md`

## 📞 Поддержка

Если у вас есть вопросы по:
- **Архитектуре системы** → изучите `docs/system-architecture.md`
- **Интеграциям** → изучите `docs/integration-implementation-plan.md`
- **API использованию** → изучите `docs/tnved-info-api-integration.md`
- **Бизнес-планированию** → изучите `finance/financial-model.md`

## 🎉 Готово к запуску!

У вас есть полная структура проекта с:
- ✅ Детальным описанием концепции
- ✅ Технической архитектурой
- ✅ Финансовой моделью
- ✅ Маркетинговыми материалами
- ✅ Планом разработки
- ✅ Системой управления клиентами

**Время действовать!** 🚀

---

*Удачи в реализации AI Logistics Hub! Это будет революционный сервис для логистики в Казахстане и СНГ.*
